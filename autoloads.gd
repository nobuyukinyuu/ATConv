extends Node

var chunk #Used to store 4 subtile indices
var CurrentTile = 0  #From the 47-tile set
var CurrentSubtile = 0  #Can be 0-3. 

var outputTex

const twelveTo47old = [[12, 17, 18, 23], [12, 13, 18, 11], [14, 15, 10, 11], [16, 17, 10, 23], [40, 5, 10, 11], [14, 15, 10, 21], [14, 15, 20, 11], [4, 37, 10, 11], [12, 13, 18, 19], [4, 5, 20, 21], [14, 15, 20, 21], [16, 17, 22, 23], [24, 29, 30, 35], [24, 5, 30, 11], [4, 5, 10, 11], [4, 29, 10, 35], [24, 5, 30, 31], [4, 27, 32, 33], [26, 5, 32, 33], [4, 29, 34, 35], [24, 25, 30, 31], [4, 27, 32, 11], [-1, -1, -1, -1], [28, 5, 34, 11], [36, 41, 42, 47], [36, 5, 42, 43], [4, 5, 44, 45], [4, 41, 46, 47], [24, 25, 30, 11], [26, 27, 10, 33], [26, 27, 32, 11], [28, 29, 10, 35], [4, 25, 10, 31], [26, 27, 32, 33], [26, 5, 10, 33], [28, 29, 34, 35], [0, 1, 6, 7], [12, 13, 42, 43], [14, 15, 44, 45], [16, 17, 46, 47], [4, 5, 22, 11], [4, 39, 44, 45], [38, 5, 44, 45], [4, 5, 10, 19], [36, 37, 42, 43], [38, 39, 44, 45], [38, 39, 10, 11], [40, 41, 46, 47]]
const twelveTo47 = [[12, 17, 18, 23], [12, 13, 18, 11], [14, 15, 10, 11], [16, 17, 10, 23], [40, 5, 10, 11], [14, 15, 10, 19], [14, 15, 22, 11], [4, 37, 10, 11], [12, 13, 18, 19], [4, 5, 20, 21], [14, 15, 20, 21], [16, 17, 22, 23], [24, 29, 30, 35], [24, 5, 30, 11], [4, 5, 10, 11], [4, 29, 10, 35], [24, 5, 30, 19], [4, 31, 20, 33], [28, 5, 32, 21], [4, 29, 22, 35], [24, 25, 30, 31], [4, 37, 22, 11], [-1, -1, -1, -1], [28, 5, 34, 11], [36, 41, 42, 47], [36, 5, 42, 43], [4, 5, 44, 45], [4, 41, 46, 47], [24, 37, 30, 11], [38, 27, 10, 25], [26, 39, 34, 11], [40, 29, 10, 35], [4, 25, 10, 31], [26, 27, 32, 33], [40, 5, 10, 19], [28, 29, 34, 35], [0, 1, 6, 7], [12, 13, 42, 43], [14, 15, 44, 45], [16, 17, 46, 47], [4, 5, 22, 11], [4, 37, 44, 45], [40, 5, 44, 45], [4, 5, 10, 19], [36, 37, 42, 43], [38, 39, 44, 45], [38, 39, 10, 11], [40, 41, 46, 47]]

#If the current 4-piece chunk already is full of data, store a subtile here for later use.
var HoldTile = -1  